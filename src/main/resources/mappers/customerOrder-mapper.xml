<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="CustomerOrder">
	<resultMap type="com.kh.pmfp.customer.model.vo.MaterialImage"
		id="materialResultSet">
		<id property="materialNo" column="MATERIAL_NO" />
		<result property="materialCateg" column="MATERIAL_CATEG" />
		<result property="materialName" column="MATERIAL_NAME" />
		<result property="materialSize" column="MATERIAL_SIZE" />
		<result property="materialWeight" column="MATERIAL_WEIGHT" />
		<!-- <result property="materialBuyprice" column="MATERIAL_BUYPRICE" /> -->
		<result property="materialSellprice" column="MATERIAL_SELLPRICE" />
		<result property="materialStatus" column="MATERIAL_STATUS" />
		<result property="imgNo" column="IMG_NO" />
		<result property="imgCateg" column="IMG_CATEG" />
		<result property="imgOriginname" column="IMG_ORIGINNAME" />
		<result property="imgChangename" column="IMG_CHANGENAME" />
		<result property="imgFilepath" column="IMG_FILEPATH" />
		<result property="imgUploaddate" column="IMG_UPLOADDATE" />
		<result property="imgStatus" column="IMG_STATUS" />
		<result property="boardNo" column="BOARD_NO" />
		<result property="mypizzaNo" column="MYPIZZA_NO" />
		<result property="eventNo" column="EVENT_NO" />
		<result property="basicNo" column="BASIC_NO" />
	</resultMap>
	
	<resultMap type="com.kh.pmfp.customer.model.vo.BasicMenu"
		id="basicMenuResultSet">
		<id property="basicNo" column="BASIC_NO" />
		<result property="basicSize" column="BASIC_SIZE" />
		<result property="basicMenu" column="BASIC_MENU" />
	</resultMap>

	<resultMap type="com.kh.pmfp.customer.model.vo.BasicTopping"
		id="basicToppingResultSet">
		<result property="basicNo" column="BASIC_NO" />
		<result property="materialNo" column="MATERIAL_NO" />
		<result property="basicTcount" column="BASIC_TCOUNT" />
	</resultMap>
	
	<!-- 재료 전체 리스트 가져오기 -->
	<select id="selectMateList" resultMap="materialResultSet">
		SELECT *
		FROM MATERIAL M
		LEFT OUTER JOIN IMAGE I
		ON (M.MATERIAL_NO = I.MATERIAL_NO
			AND I.IMG_STATUS = 'Y')
		WHERE M.MATERIAL_STATUS = 'Y'
		AND M.MATERIAL_CATEG <![CDATA[ < ]]> 5
	</select>
	
	<!-- 기본 메뉴 리스트 가져오기 -->
	<select id="selectBasicMenuList" resultMap="basicMenuResultSet">
		SELECT *
		FROM BASIC_MENU
	</select>
	<select id="selectBasicToppingList" resultMap="basicToppingResultSet">
		SELECT *
		FROM BASIC_TOPPING
	</select>
	
</mapper>




















